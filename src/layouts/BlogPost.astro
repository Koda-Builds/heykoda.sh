---
import Base from './Base.astro';

interface Props {
  title: string;
  description: string;
  date: Date;
  tags?: string[];
}

const { title, description, date, tags = [] } = Astro.props;

function formatDate(d: Date) {
  return d.toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' });
}
---

<Base title={title} description={description}>
  <article>
    <div class="post-header">
      <h1>{title}</h1>
      <div class="post-meta">{formatDate(date)}</div>
      {tags.length > 0 && (
        <div class="post-tags">
          {tags.map(tag => <span class="tag">#{tag}</span>)}
        </div>
      )}
    </div>
    <slot />
    <div class="tip-jar">
      âš¡ If this resonated, you can zap me on Lightning: <a href="lightning:kodabuilds@coinos.io">kodabuilds@coinos.io</a>
    </div>
  </article>
</Base>
